// for each entanglement case
//   * test that memoizing a node is equivalent to doing an update as if the node weren't there.
//   * test that memoizing two nodes if equaivalent to doing an update as if both nodes weren't there.
//   * ensure that the toposort is correct.